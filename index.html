<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LO 3D Nitro - Sür ve İndir</title>
    <style>
        body { margin: 0; overflow: hidden; background: #050505; font-family: 'Poppins', sans-serif; }
        canvas { display: block; }
        
        /* Oyun Arayüzü */
        #ui-layer {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            display: flex; flex-direction: column; justify-content: space-between;
            padding: 40px; box-sizing: border-box;
        }

        .header { pointer-events: auto; color: white; text-align: center; }
        .header h1 { margin: 0; font-size: 3rem; text-transform: uppercase; letter-spacing: 5px; color: #ff007f; text-shadow: 0 0 20px #ff007f; }

        /* İndirme Paneli */
        .download-panel {
            pointer-events: auto;
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #00f2ff;
            padding: 20px;
            border-radius: 20px;
            text-align: center;
            color: white;
            max-width: 400px;
            margin: 0 auto;
            box-shadow: 0 0 30px rgba(0, 242, 255, 0.3);
        }

        .btn-download {
            background: linear-gradient(90deg, #00f2ff, #0072ff);
            color: black; padding: 15px 40px;
            font-size: 1.2rem; font-weight: 800;
            border-radius: 50px; cursor: pointer;
            text-decoration: none; display: inline-block;
            transition: 0.3s; margin-top: 15px;
            text-transform: uppercase;
        }

        .btn-download:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0, 242, 255, 0.5); }
        
        #controls-hint { color: #aaa; font-size: 0.9rem; margin-top: 10px; }
    </style>
</head>
<body>

<div id="ui-layer">
    <div class="header">
        <h1>LO NITRO 3D</h1>
        <p>Annie tarafından senin için kodlandı...</p>
    </div>

    <div class="download-panel">
        <h3>Full APK / EXE Sürümü</h3>
        <p>Yüksek grafikli mobil versiyonu hemen cihazına indir!</p>
        <a href="oyun_dosyasi.zip" class="btn-download" download>OYUNU İNDİR</a>
        <div id="controls-hint">OK TUŞLARI ile sür, boşluk ile fren yap!</div>
    </div>
</div>

<script type="importmap">
    { "imports": { "three": "https://unpkg.com/three@0.160.0/build/three.module.js" } }
</script>

<script type="module">
    import * as THREE from 'three';

    // 1. Sahne Kurulumu
    const scene = new THREE.Scene();
    scene.background = new THREE.Color(0x020205);
    scene.fog = new THREE.Fog(0x020205, 10, 50);

    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    camera.position.set(0, 5, 10);

    const renderer = new THREE.WebGLRenderer({ antialias: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    // 2. Işıklar
    const sun = new THREE.DirectionalLight(0xffffff, 1);
    sun.position.set(5, 10, 5);
    scene.add(sun);
    scene.add(new THREE.AmbientLight(0x404040, 2));

    // 3. Yol ve Zemin
    const planeGeo = new THREE.PlaneGeometry(100, 1000);
    const planeMat = new THREE.MeshStandardMaterial({ color: 0x111111 });
    const road = new THREE.Mesh(planeGeo, planeMat);
    road.rotation.x = -Math.PI / 2;
    scene.add(road);

    const grid = new THREE.GridHelper(100, 40, 0xff007f, 0x222222);
    grid.position.y = 0.05;
    scene.add(grid);

    // 4. Araba (3D Gövde)
    const carGroup = new THREE.Group();
    
    // Gövde
    const bodyGeo = new THREE.BoxGeometry(2, 0.5, 4);
    const bodyMat = new THREE.MeshStandardMaterial({ color: 0x00f2ff, roughness: 0.1, metalness: 0.8 });
    const carBody = new THREE.Mesh(bodyGeo, bodyMat);
    carGroup.add(carBody);

    // Tavan
    const roofGeo = new THREE.BoxGeometry(1.5, 0.5, 2);
    const roof = new THREE.Mesh(roofGeo, bodyMat);
    roof.position.y = 0.5;
    carGroup.add(roof);

    scene.add(carGroup);

    // 5. Hareket Değişkenleri
    let speed = 0;
    const keys = {};
    window.addEventListener('keydown', (e) => keys[e.code] = true);
    window.addEventListener('keyup', (e) => keys[e.code] = false);

    function updatePhysics() {
        if (keys['ArrowUp']) speed += 0.01;
        if (keys['ArrowDown']) speed -= 0.01;
        if (keys['ArrowLeft']) carGroup.rotation.y += 0.03;
        if (keys['ArrowRight']) carGroup.rotation.y -= 0.03;
        if (keys['Space']) speed *= 0.9; // Fren

        speed *= 0.98; // Sürtünme
        carGroup.translateZ(-speed);

        // Kamera arabayı takip etsin
        const relativeCameraOffset = new THREE.Vector3(0, 3, 7);
        const cameraOffset = relativeCameraOffset.applyMatrix4(carGroup.matrixWorld);
        camera.position.lerp(cameraOffset, 0.1);
        camera.lookAt(carGroup.position);
    }

    function animate() {
        requestAnimationFrame(animate);
        updatePhysics();
        renderer.render(scene, camera);
    }

    window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    });

    animate();
</script>
</body>
</html>
